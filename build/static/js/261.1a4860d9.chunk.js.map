{"version":3,"file":"static/js/261.1a4860d9.chunk.js","mappings":"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","sources":["webpack://traineeRush/./src/styles/Cart.module.css?3012","webpack://traineeRush/./src/styles/CartItem.module.css?9394","components/Cart/CartItem.jsx","webpack://traineeRush/./src/styles/Checkout.module.css?ded6","components/Cart/Checkout.jsx","components/Cart/Cart.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"cart-items\":\"Cart_cart-items__jO4oP\",\"total\":\"Cart_total__5T0p9\",\"actions\":\"Cart_actions__+npq6\",\"button--alt\":\"Cart_button--alt__GXRve\",\"button\":\"Cart_button__wAAz6\"};","// extracted by mini-css-extract-plugin\nexport default {\"cart-item\":\"CartItem_cart-item__cWKWf\",\"summary\":\"CartItem_summary__jGJXK\",\"price\":\"CartItem_price__hiUBz\",\"amount\":\"CartItem_amount__0NKsD\",\"actions\":\"CartItem_actions__Xcevi\"};","import React from 'react';\r\nimport classes from '../../styles/CartItem.module.css';\r\n\r\nfunction CartItem({\r\n  // eslint-disable-next-line react/prop-types\r\n  name, price, amount, ice, sweetness, onRemove, onAdd,\r\n}) {\r\n  return (\r\n    <li className={classes['cart-item']}>\r\n      <div>\r\n        <h2>{name}</h2>\r\n        <span>{`冰塊:${ice}`}</span>\r\n        {' '}\r\n        <span>{`甜度:${sweetness}`}</span>\r\n        <div className={classes.summary}>\r\n          <span className={classes.price}>{price}</span>\r\n          <span className={classes.amount}>\r\n            x\r\n            {' '}\r\n            {amount}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div className={classes.actions}>\r\n        <button type=\"button\" onClick={onRemove}>−</button>\r\n        <button type=\"button\" onClick={onAdd}>+</button>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default CartItem;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Checkout_form__cOSNN\",\"control\":\"Checkout_control__Ch+3z\",\"actions\":\"Checkout_actions__zNcSH\",\"submit\":\"Checkout_submit__PPdum\",\"invalid\":\"Checkout_invalid__kBqkg\"};","/* eslint-disable react/prop-types */\r\n/* eslint-disable jsx-a11y/label-has-associated-control */\r\nimport React, { useRef, useContext, useState } from 'react';\r\nimport classes from '../../styles/Checkout.module.css';\r\nimport { CartContext } from '../../context/Context';\r\n\r\nconst isEmpty = (value) => value.trim() === '';\r\n\r\nfunction Checkout({ onCancel, onSubmit, setIsSubmit }) {\r\n  const { dispatch } = useContext(CartContext);\r\n  const nameInputRef = useRef();\r\n  const phoneInputRef = useRef();\r\n  const addressInputRef = useRef();\r\n\r\n  const [formInputsValidity, setFormInputsValidity] = useState({\r\n    name: true,\r\n    phone: true,\r\n    address:true,\r\n  });\r\n\r\n  const confirmHandler = (event) => {\r\n    event.preventDefault();\r\n    const enteredName = nameInputRef.current.value;\r\n    const enteredPhone = phoneInputRef.current.value;\r\n    const enteredAddress = addressInputRef.current.value;\r\n    // 表單驗證\r\n    setFormInputsValidity({\r\n      email: !isEmpty(enteredName),\r\n      phone: !isEmpty(enteredPhone),\r\n      address: !isEmpty(enteredAddress),\r\n    });\r\n\r\n    const formIsValid = !isEmpty(enteredName)\r\n      && !isEmpty(enteredPhone)\r\n      && !isEmpty(enteredAddress)\r\n    if (!formIsValid) {\r\n      return null;\r\n    }\r\n    // 送出訂單\r\n    onSubmit({\r\n      name: enteredName,\r\n      phone: enteredPhone,\r\n      address:enteredAddress,\r\n    });\r\n    dispatch({ type: 'CLEAR' });\r\n    setIsSubmit(true);\r\n    return null;\r\n  };\r\n  // 輸入錯誤變紅\r\n  const nameControlClasses = ({ id }) => `${classes.control} ${\r\n    formInputsValidity[id] ? '' : classes.invalid\r\n  }`;\r\n\r\n  return (\r\n    <form className={classes.form} onSubmit={confirmHandler}>\r\n      <div className={nameControlClasses({ id: 'email' })}>\r\n        <label htmlFor=\"name\">Your Name</label>\r\n        <input type=\"text\" id=\"name\" ref={nameInputRef} />\r\n        {!formInputsValidity.email && <p>Please enter a valid Name!</p>}\r\n      </div>\r\n      <div className={nameControlClasses({ id: 'phone' })}>\r\n        <label htmlFor=\"phone\">Your Phone</label>\r\n        <input type=\"text\" id=\"phone\" ref={phoneInputRef} />\r\n        {!formInputsValidity.phone && <p>Please enter a valid phone!</p>}\r\n      </div>\r\n      <div className={nameControlClasses({ id: 'address' })}>\r\n        <label htmlFor=\"address\">Your Address</label>\r\n        <input type=\"text\" id=\"address\" ref={addressInputRef} />\r\n        {!formInputsValidity.address\r\n        && <p>Please enter a valid address! </p>}\r\n      </div>\r\n\r\n      <div className={classes.actions}>\r\n        <button type=\"button\" onClick={onCancel}>\r\n          Cancel\r\n        </button>\r\n        <button className={classes.submit} type=\"submit\">Confirm</button>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default Checkout;\r\n","import React, { useContext, useState } from 'react';\r\nimport { CartContext } from '../../context/Context';\r\nimport classes from '../../styles/Cart.module.css';\r\nimport Modal from '../UI/Modal';\r\nimport CartItem from './CartItem';\r\nimport Checkout from './Checkout';\r\n\r\nfunction Cart() {\r\n  const {\r\n    setCartIsShown, totalAmount, cart, dispatch,\r\n  } = useContext(CartContext);\r\n  const [isCheckout, setIsCheckout] = useState(false);// 是否點擊order\r\n  const [isSubmit, setIsSubmit] = useState(false);// 是否送出訂單\r\n\r\n  // 隱藏結帳畫面\r\n  const disableCartHandler = () => {\r\n    setCartIsShown(false);\r\n  };\r\n\r\n  // 購物車頁面增加商品\r\n  const cartItemAddHandler = (id) => {\r\n    dispatch({\r\n      type: 'INCREMENT_QUANTITY',\r\n      payload: { id, quantity: 1 },\r\n    });\r\n  };\r\n\r\n  // 購物車頁面減少商品\r\n  const cartItemRemoveHandler = (id) => {\r\n    dispatch({\r\n      type: 'DECREASE_QUANTITY',\r\n      payload: { id },\r\n    });\r\n  };\r\n\r\n  const submitHandler = async (userData) => {\r\n    await fetch('https://food-app-65bd1-default-rtdb.firebaseio.com/order.json', {\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n        user: userData,\r\n        orderedItems: cart,\r\n        totalAmount,\r\n      }),\r\n    });\r\n  };\r\n\r\n  const modalAction = (\r\n    <div className={classes.actions}>\r\n      <button className={classes['button--alt']} onClick={disableCartHandler} type=\"button\">\r\n        Close\r\n      </button>\r\n      {cart.length > 0 && (\r\n      <button\r\n        className={classes.button}\r\n        onClick={() => setIsCheckout(true)}\r\n        type=\"button\"\r\n      >\r\n        Order\r\n      </button>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Modal onClose={disableCartHandler}>\r\n      {/* 購物車 */}\r\n      { !isSubmit\r\n      && (\r\n      <>\r\n        <ul className={classes['cart-items']}>\r\n          {cart.map((item) => (\r\n            <CartItem\r\n              key={item.id}\r\n              name={item.name}\r\n              amount={item.quantity}\r\n              price={item.price}\r\n              ice={item.ice}\r\n              sweetness={item.sweetness}\r\n              onRemove={() => cartItemRemoveHandler(item.id)}\r\n              onAdd={() => cartItemAddHandler(item.id)}\r\n            />\r\n          ))}\r\n        </ul>\r\n        <div className={classes.total}>\r\n          <span>Total Amount</span>\r\n          <span>\r\n            $\r\n            {' '}\r\n            {totalAmount.toFixed(2)}\r\n          </span>\r\n        </div>\r\n\r\n      </>\r\n      )}\r\n      {/* 訂單填寫資料 */}\r\n      {isCheckout\r\n      && !isSubmit && (\r\n      <Checkout\r\n        onCancel={disableCartHandler}\r\n        onSubmit={submitHandler}\r\n        setIsSubmit={setIsSubmit}\r\n      />\r\n      )}\r\n      {/* 點order後原本購物車底下按鈕隱藏 */}\r\n      {!isCheckout && !isSubmit && modalAction}\r\n      {/* 訂單確定送出畫面 */}\r\n      {isSubmit && (\r\n      <>\r\n        <p>Successfully sent the order!</p>\r\n        <div className={classes.actions}>\r\n          <button className={classes['button--alt']} onClick={disableCartHandler} type=\"button\">\r\n            Close\r\n          </button>\r\n        </div>\r\n      </>\r\n      ) }\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default Cart;\r\n"],"names":["_ref","name","price","amount","ice","sweetness","onRemove","onAdd","_jsxs","className","classes","children","_jsx","concat","type","onClick","isEmpty","value","trim","onCancel","onSubmit","setIsSubmit","dispatch","useContext","CartContext","nameInputRef","useRef","phoneInputRef","addressInputRef","_useState","useState","phone","address","_useState2","_slicedToArray","formInputsValidity","setFormInputsValidity","nameControlClasses","_ref2","id","event","preventDefault","enteredName","current","enteredPhone","enteredAddress","email","htmlFor","ref","_useContext","setCartIsShown","totalAmount","cart","isCheckout","setIsCheckout","_useState3","_useState4","isSubmit","disableCartHandler","submitHandler","_asyncToGenerator","_regeneratorRuntime","mark","_callee","userData","wrap","_context","prev","next","fetch","method","body","JSON","stringify","user","orderedItems","stop","_x","apply","arguments","modalAction","length","Modal","onClose","_Fragment","map","item","CartItem","quantity","payload","toFixed","Checkout"],"sourceRoot":""}