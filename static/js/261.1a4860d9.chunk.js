"use strict";(self.webpackChunktraineeRush=self.webpackChunktraineeRush||[]).push([[261],{261:function(e,t,n){n.r(t),n.d(t,{default:function(){return R}});var s=n(165),r=n(861),a=n(885),i=n(791),c=n(277),o="Cart_cart-items__jO4oP",l="Cart_total__5T0p9",d="Cart_actions__+npq6",u="Cart_button--alt__GXRve",h="Cart_button__wAAz6",m=n(823),p="CartItem_cart-item__cWKWf",x="CartItem_summary__jGJXK",_="CartItem_price__hiUBz",j="CartItem_amount__0NKsD",f="CartItem_actions__Xcevi",v=n(184);var C=function(e){var t=e.name,n=e.price,s=e.amount,r=e.ice,a=e.sweetness,i=e.onRemove,c=e.onAdd;return(0,v.jsxs)("li",{className:p,children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("h2",{children:t}),(0,v.jsx)("span",{children:"\u51b0\u584a:".concat(r)})," ",(0,v.jsx)("span",{children:"\u751c\u5ea6:".concat(a)}),(0,v.jsxs)("div",{className:x,children:[(0,v.jsx)("span",{className:_,children:n}),(0,v.jsxs)("span",{className:j,children:["x"," ",s]})]})]}),(0,v.jsxs)("div",{className:f,children:[(0,v.jsx)("button",{type:"button",onClick:i,children:"\u2212"}),(0,v.jsx)("button",{type:"button",onClick:c,children:"+"})]})]})},b="Checkout_form__cOSNN",N="Checkout_control__Ch+3z",y="Checkout_actions__zNcSH",k="Checkout_submit__PPdum",S="Checkout_invalid__kBqkg",A=function(e){return""===e.trim()};var I=function(e){var t=e.onCancel,n=e.onSubmit,s=e.setIsSubmit,r=(0,i.useContext)(c.A).dispatch,o=(0,i.useRef)(),l=(0,i.useRef)(),d=(0,i.useRef)(),u=(0,i.useState)({name:!0,phone:!0,address:!0}),h=(0,a.Z)(u,2),m=h[0],p=h[1],x=function(e){var t=e.id;return"".concat(N," ").concat(m[t]?"":S)};return(0,v.jsxs)("form",{className:b,onSubmit:function(e){e.preventDefault();var t=o.current.value,a=l.current.value,i=d.current.value;return p({email:!A(t),phone:!A(a),address:!A(i)}),A(t)||A(a)||A(i)||(n({name:t,phone:a,address:i}),r({type:"CLEAR"}),s(!0)),null},children:[(0,v.jsxs)("div",{className:x({id:"email"}),children:[(0,v.jsx)("label",{htmlFor:"name",children:"Your Name"}),(0,v.jsx)("input",{type:"text",id:"name",ref:o}),!m.email&&(0,v.jsx)("p",{children:"Please enter a valid Name!"})]}),(0,v.jsxs)("div",{className:x({id:"phone"}),children:[(0,v.jsx)("label",{htmlFor:"phone",children:"Your Phone"}),(0,v.jsx)("input",{type:"text",id:"phone",ref:l}),!m.phone&&(0,v.jsx)("p",{children:"Please enter a valid phone!"})]}),(0,v.jsxs)("div",{className:x({id:"address"}),children:[(0,v.jsx)("label",{htmlFor:"address",children:"Your Address"}),(0,v.jsx)("input",{type:"text",id:"address",ref:d}),!m.address&&(0,v.jsx)("p",{children:"Please enter a valid address! "})]}),(0,v.jsxs)("div",{className:y,children:[(0,v.jsx)("button",{type:"button",onClick:t,children:"Cancel"}),(0,v.jsx)("button",{className:k,type:"submit",children:"Confirm"})]})]})};var R=function(){var e=(0,i.useContext)(c.A),t=e.setCartIsShown,n=e.totalAmount,p=e.cart,x=e.dispatch,_=(0,i.useState)(!1),j=(0,a.Z)(_,2),f=j[0],b=j[1],N=(0,i.useState)(!1),y=(0,a.Z)(N,2),k=y[0],S=y[1],A=function(){t(!1)},R=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://food-app-65bd1-default-rtdb.firebaseio.com/order.json",{method:"POST",body:JSON.stringify({user:t,orderedItems:p,totalAmount:n})});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=(0,v.jsxs)("div",{className:d,children:[(0,v.jsx)("button",{className:u,onClick:A,type:"button",children:"Close"}),p.length>0&&(0,v.jsx)("button",{className:h,onClick:function(){return b(!0)},type:"button",children:"Order"})]});return(0,v.jsxs)(m.Z,{onClose:A,children:[!k&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("ul",{className:o,children:p.map((function(e){return(0,v.jsx)(C,{name:e.name,amount:e.quantity,price:e.price,ice:e.ice,sweetness:e.sweetness,onRemove:function(){return t=e.id,void x({type:"DECREASE_QUANTITY",payload:{id:t}});var t},onAdd:function(){return t=e.id,void x({type:"INCREMENT_QUANTITY",payload:{id:t,quantity:1}});var t}},e.id)}))}),(0,v.jsxs)("div",{className:l,children:[(0,v.jsx)("span",{children:"Total Amount"}),(0,v.jsxs)("span",{children:["$"," ",n.toFixed(2)]})]})]}),f&&!k&&(0,v.jsx)(I,{onCancel:A,onSubmit:R,setIsSubmit:S}),!f&&!k&&w,k&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("p",{children:"Successfully sent the order!"}),(0,v.jsx)("div",{className:d,children:(0,v.jsx)("button",{className:u,onClick:A,type:"button",children:"Close"})})]})]})}}}]);
//# sourceMappingURL=261.1a4860d9.chunk.js.map